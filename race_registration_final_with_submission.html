<!DOCTYPE html>

<html lang="en">

<head>

  <meta charset="UTF-8">

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Race Registration</title>

  <style>

    body {

      font-family: Arial, sans-serif;

      padding: 20px;

      font-size: 18px;

    }

    h2 {

      font-size: 22px;

      color: maroon;

    }

    label {

      display: block;

      margin-top: 15px;

    }

    input, select {

      width: 100%;

      padding: 10px;

      font-size: 18px;

      margin-top: 5px;

    }

    .checkbox-group {

      display: flex;

      flex-wrap: wrap;

      gap: 20px;

      margin-top: 10px;

    }

    button {

      margin-top: 20px;

      padding: 15px;

      font-size: 20px;

      width: 100%;

    }

    #thankYou {

      margin-top: 20px;

      font-size: 20px;

      color: green;

      display: none;

    }

  </style>

</head>

<body>

  <h2>Race Registration</h2>

  <form id="raceForm">

    <label>Name

      <select id="memberDropdown" name="name" required>

        <option value="">-- Select Name --</option>

      </select>

    </label>

    <label>Race Name

      <select id="raceName" name="raceName" required>

        <option value="">-- Select Race --</option>

      </select>

    </label>

    <label>Availability</label>

    <div class="checkbox-group">

      <label><input type="checkbox" name="availability" value="Day 1 AM"> Day 1 AM</label>

      <label><input type="checkbox" name="availability" value="Day 1 PM"> Day 1 PM</label>

      <label><input type="checkbox" name="availability" value="Day 2 AM"> Day 2 AM</label>

      <label><input type="checkbox" name="availability" value="Day 2 PM"> Day 2 PM</label>

    </div>

    <label>Paddling Side</label>

    <div class="checkbox-group">

      <label><input type="checkbox" name="paddlingSide" value="LEFT"> LEFT</label>

      <label><input type="checkbox" name="paddlingSide" value="RIGHT"> RIGHT</label>

    </div>

    <label>Weight<input name="weight" required></label>

    <label>Certified Helmsman

      <select name="helmsman" required>

        <option value="">Select</option>

        <option>Yes</option><option>No</option>

      </select>

    </label>

    <button type="submit">Submit</button>

  </form>

  <div id="thankYou"></div>

  <script>

    const memberScriptURL = 'YOUR_MEMBER_NAMES_SCRIPT_URL';

    const raceScriptURL = 'YOUR_RACE_NAMES_SCRIPT_URL';

    const submissionScriptURL = 'YOUR_SUBMISSION_SCRIPT_URL';

 

    fetch(memberScriptURL)

      .then(res => res.json())

      .then(names => {

        const dropdown = document.getElementById('memberDropdown');

        names.forEach(name => {

          const option = document.createElement('option');

          option.value = name;

          option.textContent = name;

          dropdown.appendChild(option);

        });

      });

 

    fetch(raceScriptURL)

      .then(res => res.json())

      .then(races => {

        const dropdown = document.getElementById('raceName');

        races.forEach(race => {

          const option = document.createElement('option');

          option.value = race;

          option.textContent = race;

          dropdown.appendChild(option);

        });

      });

 

    document.getElementById('raceForm').addEventListener('submit', function(e) {

      e.preventDefault();

      const formData = new FormData(this);

      const availability = Array.from(document.querySelectorAll('input[name="availability"]:checked')).map(cb => cb.value).join(', ');

      formData.set('availability', availability);

      const paddlingSide = Array.from(document.querySelectorAll('input[name="paddlingSide"]:checked')).map(cb => cb.value).join(', ');

      formData.set('paddlingSide', paddlingSide);

      const name = formData.get('name');

      const raceName = formData.get('raceName');

 

      fetch(submissionScriptURL, {

        method: 'POST',

        body: formData

      }).then(() => {

        document.getElementById('thankYou').textContent = `Thank you ${name}! You have registered for ${raceName}! Please screenshot this message for your record.`;

        document.getElementById('thankYou').style.display = 'block';

        document.getElementById('raceForm').reset();

      });

    });

  </script>

</body>

</html>
